<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1050" width="800" height="1050"
     font-family="'Segoe UI', Arial, sans-serif" style="background: white">

  <defs>
    <pattern id="hatch" patternUnits="userSpaceOnUse" width="5" height="5" patternTransform="rotate(45)">
      <line x1="0" y1="0" x2="0" y2="5" stroke="#bbb" stroke-width="0.35"/>
    </pattern>
    <marker id="as" viewBox="0 0 10 10" refX="0" refY="5" markerWidth="6" markerHeight="4" orient="auto">
      <path d="M10,1 L0,5 L10,9" fill="none" stroke="#333" stroke-width="1"/>
    </marker>
    <marker id="ae" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="6" markerHeight="4" orient="auto">
      <path d="M0,1 L10,5 L0,9" fill="none" stroke="#333" stroke-width="1"/>
    </marker>
  </defs>

  <!-- ═══════════ TITLE ═══════════ -->
  <text x="400" y="28" text-anchor="middle" font-size="17" font-weight="bold" fill="#111">
    102308 — Stuetzfuss (PDM-249322 Rev.03)
  </text>
  <text x="400" y="48" text-anchor="middle" font-size="11" fill="#666">
    Mat: 1.1191 (C45E) | Rheinnitrieren var. a1 → 350 HV0.5 | ISO 2768-mK
  </text>
  <text x="400" y="65" text-anchor="middle" font-size="11" font-weight="bold" fill="#07a">
    PROFIL Z 3D MODELU (STEP) — Siemens NX 2023
  </text>
  <rect x="20" y="72" width="760" height="20" fill="#e8f4e8" rx="3"/>
  <text x="400" y="86" text-anchor="middle" font-size="10" fill="#060">
    Korekce: Profil je KUZELOVY (ne stupnovity) | Ø19 je PRUCHOZI vrtani | Diry Ø7 rozestup 40mm
  </text>

  <!-- ═══════════ SECTION VIEW ═══════════ -->
  <g id="section-view">

    <!-- RIGHT HALF (hatched section) -->
    <path d="M 370.0,110.0 L 437.5,110.0 L 445.0,117.5 L 445.0,502.5 L 441.0,509.1 L 437.5,513.0 L 437.5,522.0 L 440.5,525.5 L 500.0,533.9 L 507.5,536.2 L 507.5,555.0 L 417.5,555.0 L 417.5,110.0 Z" fill="url(#hatch)" stroke="#222" stroke-width="1.0" stroke-linejoin="round"/>

    <!-- LEFT HALF (hatched section) -->
    <path d="M 370.0,110.0 L 302.5,110.0 L 295.0,117.5 L 295.0,502.5 L 299.0,509.1 L 302.5,513.0 L 302.5,522.0 L 299.5,525.5 L 240.0,533.9 L 232.5,536.2 L 232.5,555.0 L 322.5,555.0 L 322.5,110.0 Z" fill="url(#hatch)" stroke="#222" stroke-width="1.0" stroke-linejoin="round"/>

    <!-- CENTERLINE -->
    <line x1="370" y1="90" x2="370" y2="575"
          stroke="#c00" stroke-width="0.4" stroke-dasharray="20,3,3,3"/>
    <text x="370" y="85" text-anchor="middle" font-size="8" fill="#c00">CL</text>

    <!-- THREAD ZONE: M30×2 (shaft Ø30 from z=1.5 to z=78.5) -->
    <!-- Minor diameter indication (thin dashed line) -->
    <line x1="439.5" y1="117.5" x2="439.5" y2="502.5"
          stroke="#888" stroke-width="0.3" stroke-dasharray="2,2"/>
    <line x1="300.5" y1="117.5" x2="300.5" y2="502.5"
          stroke="#888" stroke-width="0.3" stroke-dasharray="2,2"/>

    <!-- Thread zone label -->
    <text x="375" y="310" text-anchor="start" font-size="8" fill="#888"
          transform="rotate(90,375,310)">M30×2 zavit (77mm)</text>

    <!-- Ø19 THROUGH-BORE indication (thin lines through bore) -->
    <line x1="417.5" y1="110" x2="417.5" y2="555"
          stroke="#222" stroke-width="0.6"/>
    <line x1="322.5" y1="110" x2="322.5" y2="555"
          stroke="#222" stroke-width="0.6"/>

    <!-- Ø7 HOLES IN SECTION (through cutting plane at Y=±20) -->
    <!-- Right hole at r=20mm -->
    <rect x="452.5" y="532.5" width="35" height="22.5"
          fill="white" stroke="#222" stroke-width="0.6" stroke-dasharray="3,2"/>
    <!-- Left hole at r=20mm -->
    <rect x="252.5" y="532.5" width="35" height="22.5"
          fill="white" stroke="#222" stroke-width="0.6" stroke-dasharray="3,2"/>

    <!-- TRANSITION ZONE DETAIL (highlighted) -->
    <rect x="227.5" y="497.5" width="285.0" height="62.5"
          fill="none" stroke="#07a" stroke-width="0.5" stroke-dasharray="5,3" rx="3"/>
    <text x="522.5" y="502.5" font-size="8" fill="#07a">Prechod</text>
    <text x="522.5" y="513.5" font-size="8" fill="#07a">kuzelovy</text>

  </g>

  <!-- ═══════════ DIMENSIONS ═══════════ -->
  <g id="dimensions">

    <!-- M30×2 / Ø30 at top -->
    <line x1="295" y1="110" x2="295" y2="83" stroke="#333" stroke-width="0.3"/>
    <line x1="445" y1="110" x2="445" y2="83" stroke="#333" stroke-width="0.3"/>
    <line x1="295" y1="85" x2="445" y2="85" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="370.0" y="81" text-anchor="middle" font-size="10" fill="#333">M30×2 (Ø30)</text>

    <!-- Ø27 at reduced section -->
    <line x1="302.5" y1="517.5" x2="302.5" y2="530.5" stroke="#333" stroke-width="0.3"/>
    <line x1="437.5" y1="517.5" x2="437.5" y2="530.5" stroke="#333" stroke-width="0.3"/>
    <line x1="302.5" y1="532.5" x2="437.5" y2="532.5" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="370.0" y="528.5" text-anchor="middle" font-size="10" fill="#333">Ø27</text>

    <!-- Ø19 through-bore -->
    <line x1="322.5" y1="335" x2="322.5" y2="321" stroke="#333" stroke-width="0.3"/>
    <line x1="417.5" y1="335" x2="417.5" y2="321" stroke="#333" stroke-width="0.3"/>
    <line x1="322.5" y1="323" x2="417.5" y2="323" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="370.0" y="319" text-anchor="middle" font-size="10" fill="#333">Ø19 pruchozi</text>

    <!-- Ø55 at flange -->
    <line x1="232.5" y1="555" x2="232.5" y2="575" stroke="#333" stroke-width="0.3"/>
    <line x1="507.5" y1="555" x2="507.5" y2="575" stroke="#333" stroke-width="0.3"/>
    <line x1="232.5" y1="577" x2="507.5" y2="577" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="370.0" y="573" text-anchor="middle" font-size="10" fill="#333">Ø55</text>

    <!-- Overall height 89 -->
    <line x1="507.5" y1="110" x2="544.5" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="507.5" y1="555" x2="544.5" y2="555" stroke="#333" stroke-width="0.3"/>
    <line x1="542.5" y1="110" x2="542.5" y2="555" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="554.5" y="336.5" text-anchor="middle" font-size="10" fill="#333" transform="rotate(90,554.5,332.5)">89</text>

    <!-- Chamfer 1.5×45° -->
    <line x1="445" y1="110" x2="462" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="445" y1="117.5" x2="462" y2="117.5" stroke="#333" stroke-width="0.3"/>
    <line x1="460" y1="110" x2="460" y2="117.5" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="472" y="117.75" text-anchor="middle" font-size="10" fill="#333" transform="rotate(90,472,113.75)">1.5×45°</text>

    <!-- Heights from top (left side) -->
    <line x1="295" y1="110" x2="258" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="295" y1="502.5" x2="258" y2="502.5" stroke="#333" stroke-width="0.3"/>
    <line x1="260" y1="110" x2="260" y2="502.5" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="248" y="310.25" text-anchor="middle" font-size="10" fill="#333" transform="rotate(-90,248,306.25)">78,5</text>
    <line x1="232.5" y1="110" x2="170.5" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="232.5" y1="515" x2="170.5" y2="515" stroke="#333" stroke-width="0.3"/>
    <line x1="172.5" y1="110" x2="172.5" y2="515" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="160.5" y="316.5" text-anchor="middle" font-size="10" fill="#333" transform="rotate(-90,160.5,312.5)">≈81</text>
    <line x1="232.5" y1="110" x2="145.5" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="232.5" y1="527.5" x2="145.5" y2="527.5" stroke="#333" stroke-width="0.3"/>
    <line x1="147.5" y1="110" x2="147.5" y2="527.5" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="135.5" y="322.75" text-anchor="middle" font-size="10" fill="#333" transform="rotate(-90,135.5,318.75)">83,5</text>
    <line x1="232.5" y1="110" x2="120.5" y2="110" stroke="#333" stroke-width="0.3"/>
    <line x1="232.5" y1="542.0" x2="120.5" y2="542.0" stroke="#333" stroke-width="0.3"/>
    <line x1="122.5" y1="110" x2="122.5" y2="542.0" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="110.5" y="330.0" text-anchor="middle" font-size="10" fill="#333" transform="rotate(-90,110.5,326.0)">86,4</text>

    <!-- Flange cylinder height -->
    <line x1="507.5" y1="542.0" x2="524.5" y2="542.0" stroke="#333" stroke-width="0.3"/>
    <line x1="507.5" y1="555" x2="524.5" y2="555" stroke="#333" stroke-width="0.3"/>
    <line x1="522.5" y1="542.0" x2="522.5" y2="555" stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="534.5" y="552.5" text-anchor="middle" font-size="10" fill="#333" transform="rotate(90,534.5,548.5)">2,63</text>

  </g>

  <!-- ═══════════ CALLOUTS ═══════════ -->
  <g id="callouts" font-size="9">
    <line x1="445" y1="117.5" x2="495" y2="97.5" stroke="#555" stroke-width="0.5"/>
    <circle cx="445" cy="117.5" r="1.5" fill="#555"/>
    <text x="499" y="101.5" font-size="9" fill="#333">Zkoseni 1,5×45° (CONICAL_SURFACE)</text>
    <line x1="442.5" y1="507.5" x2="497.5" y2="495.5" stroke="#555" stroke-width="0.5"/>
    <circle cx="442.5" cy="507.5" r="1.5" fill="#555"/>
    <text x="501.5" y="499.5" font-size="9" fill="#333">Kuzel 31° (R15→R13.5)</text>
    <line x1="437.5" y1="517.5" x2="517.5" y2="522.5" stroke="#555" stroke-width="0.5"/>
    <circle cx="437.5" cy="517.5" r="1.5" fill="#555"/>
    <text x="521.5" y="526.5" font-size="9" fill="#333">Ø27 valec (1,35mm)</text>
    <line x1="440" y1="525" x2="515" y2="540" stroke="#555" stroke-width="0.5"/>
    <circle cx="440" cy="525" r="1.5" fill="#555"/>
    <text x="519" y="544" font-size="9" fill="#333">R1 zaobleni (TOROIDAL r=1)</text>
    <line x1="470" y1="530" x2="515" y2="515" stroke="#555" stroke-width="0.5"/>
    <circle cx="470" cy="530" r="1.5" fill="#555"/>
    <text x="519" y="519" font-size="9" fill="#333">Kuzel 82° (R13.5→R27.5)</text>
    <line x1="505" y1="537.5" x2="535" y2="552.5" stroke="#555" stroke-width="0.5"/>
    <circle cx="505" cy="537.5" r="1.5" fill="#555"/>
    <text x="539" y="556.5" font-size="9" fill="#333">R1 zaobleni → Ø55</text>
    <line x1="417.5" y1="360" x2="492.5" y2="360" stroke="#555" stroke-width="0.5"/>
    <circle cx="417.5" cy="360" r="1.5" fill="#555"/>
    <text x="496.5" y="364" font-size="9" fill="#333">Ø19 PRUCHOZI vrtani</text>
    <line x1="470" y1="540" x2="510" y2="565" stroke="#555" stroke-width="0.5"/>
    <circle cx="470" cy="540" r="1.5" fill="#555"/>
    <text x="514" y="569" font-size="9" fill="#333">Ø7 (2×) v=±20mm od osy</text>
  </g>

  <!-- ═══════════ CONE ANGLE DETAIL ═══════════ -->
  <g id="cone-angles" font-size="8" fill="#07a">
    <!-- 31° angle indicator on right side -->
    <line x1="445" y1="502.5"
          x2="437.5" y2="515"
          stroke="#07a" stroke-width="1.5" stroke-dasharray="none" opacity="0.5"/>
    <text x="450" y="510" font-size="9" fill="#07a">31°</text>

    <!-- 82° angle indicator -->
    <line x1="437.5" y1="527.5"
          x2="507.5" y2="537.5"
          stroke="#07a" stroke-width="1.5" stroke-dasharray="none" opacity="0.5"/>
    <text x="475" y="529.0" font-size="9" fill="#07a">82°</text>
  </g>

  <!-- ═══════════ BOTTOM VIEW ═══════════ -->
  <g id="bottom-view">
    <text x="370" y="597.5" text-anchor="middle"
          font-size="14" font-weight="bold" fill="#222">Pohled zdola</text>
    <text x="370" y="610.5" text-anchor="middle"
          font-size="9" fill="#888">(rozestup der opraveny ze STEP: 40mm, ne 24mm)</text>

    <!-- Outer circle Ø55 -->
    <circle cx="370" cy="760" r="137.5" fill="#f9f9f9" stroke="#222" stroke-width="1.2"/>

    <!-- Center bore Ø19 (through!) -->
    <circle cx="370" cy="760" r="47.5" fill="white" stroke="#222" stroke-width="1.0"/>
    <line x1="346.25" y1="736.25"
          x2="393.75" y2="783.75" stroke="#222" stroke-width="0.3"/>
    <line x1="393.75" y1="736.25"
          x2="346.25" y2="783.75" stroke="#222" stroke-width="0.3"/>

    <!-- Centerlines -->
    <line x1="217.5" y1="760" x2="522.5" y2="760"
          stroke="#c00" stroke-width="0.3" stroke-dasharray="12,3,3,3"/>
    <line x1="370" y1="607.5" x2="370" y2="912.5"
          stroke="#c00" stroke-width="0.3" stroke-dasharray="12,3,3,3"/>

    <!-- 2× Ø7 holes at ±20mm from center (FROM STEP!) -->
    <circle cx="270" cy="760" r="17.5"
            fill="white" stroke="#222" stroke-width="0.8"/>
    <line x1="259.5" y1="749.5"
          x2="280.5" y2="770.5"
          stroke="#222" stroke-width="0.3"/>
    <line x1="280.5" y1="749.5"
          x2="259.5" y2="770.5"
          stroke="#222" stroke-width="0.3"/>

    <circle cx="470" cy="760" r="17.5"
            fill="white" stroke="#222" stroke-width="0.8"/>
    <line x1="459.5" y1="749.5"
          x2="480.5" y2="770.5"
          stroke="#222" stroke-width="0.3"/>
    <line x1="480.5" y1="749.5"
          x2="459.5" y2="770.5"
          stroke="#222" stroke-width="0.3"/>

    <!-- Bottom view dimensions -->
    <text x="370" y="919.5" text-anchor="middle" font-size="10" fill="#333">Ø55</text>
    <text x="372" y="707.5" text-anchor="middle" font-size="9" fill="#333">Ø19</text>
    <text x="470" y="737.5"
          text-anchor="middle" font-size="8" fill="#333">Ø7</text>
    <text x="270" y="737.5"
          text-anchor="middle" font-size="8" fill="#333">Ø7</text>

    <!-- Spacing dimension 40mm (CORRECTED from STEP!) -->
    <line x1="270" y1="787.5"
          x2="470" y2="787.5"
          stroke="#333" stroke-width="0.5" marker-start="url(#as)" marker-end="url(#ae)"/>
    <text x="370" y="800.5" text-anchor="middle"
          font-size="10" font-weight="bold" fill="#c00">40 (ze STEP)</text>
  </g>

  <!-- ═══════════ COMPARISON TABLE ═══════════ -->
  <g id="info-block" font-size="9">
    <rect x="20" y="910" width="760" height="130" fill="#f8f8f8" stroke="#ddd" stroke-width="0.5" rx="4"/>

    <text x="400" y="928" text-anchor="middle" font-size="12" font-weight="bold" fill="#222">
      Srovnani: Odhad z PDF vs. Presna data ze STEP
    </text>

    <!-- Table header -->
    <text x="40" y="948" font-weight="bold" fill="#555">Parametr</text>
    <text x="250" y="948" font-weight="bold" fill="#555">Odhad z PDF</text>
    <text x="470" y="948" font-weight="bold" fill="#555">STEP (presne)</text>
    <text x="670" y="948" font-weight="bold" fill="#555">Status</text>
    <line x1="30" y1="952" x2="770" y2="952" stroke="#ccc" stroke-width="0.5"/>

    <!-- Row 1 -->
    <text x="40" y="965" fill="#333">Profil prechodu</text>
    <text x="250" y="965" fill="#c00">4 stupne (schody)</text>
    <text x="470" y="965" fill="#060">Kuzely 31°+82° + R1 zaobleni</text>
    <text x="670" y="965" fill="#c00" font-weight="bold">OPRAVENO</text>

    <!-- Row 2 -->
    <text x="40" y="980" fill="#333">Vrtani Ø19</text>
    <text x="250" y="980" fill="#c00">Slepe (4mm v prirube)</text>
    <text x="470" y="980" fill="#060">PRUCHOZI (89mm!)</text>
    <text x="670" y="980" fill="#c00" font-weight="bold">OPRAVENO</text>

    <!-- Row 3 -->
    <text x="40" y="995" fill="#333">Rozestup der Ø7</text>
    <text x="250" y="995" fill="#c00">24mm</text>
    <text x="470" y="995" fill="#060">40mm (±20mm od osy)</text>
    <text x="670" y="995" fill="#c00" font-weight="bold">OPRAVENO</text>

    <!-- Row 4 -->
    <text x="40" y="1010" fill="#333">Vyska valce Ø55</text>
    <text x="250" y="1010" fill="#c00">~3.5mm</text>
    <text x="470" y="1010" fill="#060">2.63mm</text>
    <text x="670" y="1010" fill="#c00" font-weight="bold">OPRAVENO</text>

    <!-- Row 5 -->
    <text x="40" y="1025" fill="#333">Ø30, Ø27, Ø55, Ø19, Ø7</text>
    <text x="250" y="1025" fill="#060">Spravne</text>
    <text x="470" y="1025" fill="#060">Potvrzeno</text>
    <text x="670" y="1025" fill="#060" font-weight="bold">OK</text>

    <!-- Row 6 -->
    <text x="40" y="1040" fill="#333">Celkova vyska 89mm</text>
    <text x="250" y="1040" fill="#060">Spravne</text>
    <text x="470" y="1040" fill="#060">Potvrzeno</text>
    <text x="670" y="1040" fill="#060" font-weight="bold">OK</text>
  </g>

</svg>