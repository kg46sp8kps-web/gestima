# GESTIMA - Environment Variables Example
# Copy this file to .env and customize for your environment

# === DEVELOPMENT vs PRODUCTION ===
DEBUG=false

# === SECURITY (CRITICAL FOR PRODUCTION) ===
# Generate strong secret key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# IMPORTANT: Change this in production! Minimum 32 characters required.
SECRET_KEY=CHANGE_ME_IN_PRODUCTION_minimum_32_chars

# JWT token expiry (minutes)
ACCESS_TOKEN_EXPIRE_MINUTES=120

# Cookie security (MUST be true when behind HTTPS)
SECURE_COOKIE=true

# === CORS ===
# Comma-separated list of allowed origins (empty = disabled)
# Example: https://gestima.example.com,https://admin.example.com
CORS_ORIGINS=

# === RATE LIMITING ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_DEFAULT=100/minute
RATE_LIMIT_AUTH=10/minute

# === AI SERVICES (Quote Request Parsing & Feature Recognition) ===
# Anthropic Claude API key for AI-powered parsing
# Get your API key from: https://console.anthropic.com/
# Cost: ~$0.08 per parse (~$20/month at full 10/hour usage)
# IMPORTANT: Never commit this key to version control!
ANTHROPIC_API_KEY=

# AI parsing rate limit (protects against cost explosion)
# Format: "N/minute" or "N/hour"
# Default: 10/hour (adjust based on your usage needs)
AI_RATE_LIMIT=10/hour

# Feature Recognition Pipeline Mode
# Options:
# - "hybrid" - Claude returns geometry + operations (fast, less accurate)
# - "deterministic" - Claude extracts geometry only, deterministic operations
# - "step_deterministic" - Pure CAD geometry (OCCT), no AI for geometry
# - "auto" - Try step_deterministic, fallback to deterministic, then hybrid
# Default: "auto" (recommended for best accuracy)
FR_PIPELINE_MODE=auto

# Enable OCCT (Open CASCADE) STEP Parser
# Uses native CAD kernel for precise geometry extraction (90%+ accuracy)
# Falls back to regex parser if OCCT unavailable
# Requires: pythonocc-core package
# Default: true
ENABLE_OCCT_PARSER=true

# === BACKUP ===
BACKUP_RETENTION_COUNT=7
BACKUP_COMPRESS=true

# === DATABASE ===
# Default: SQLite in project root
# DATABASE_URL=sqlite+aiosqlite:///./gestima.db

# === STOCK CALCULATION DEFAULTS ===
STOCK_ALLOWANCE_DIAMETER=3.0
STOCK_ALLOWANCE_LENGTH=5.0
STOCK_ALLOWANCE_CUT=3.0
STANDARD_BAR_LENGTH=3000.0
MAX_BAR_FEEDER_LENGTH=1200.0

# === INFOR CLOUDSUITE INDUSTRIAL INTEGRATION ===
# Infor API base URL (without trailing slash)
INFOR_API_URL=https://util90110.kovorybka.cz
# CRITICAL: Configuration name - MUST use "TEST", NEVER "LIVE"!
# Using "LIVE" could corrupt production data!
INFOR_CONFIG=TEST
# Infor API credentials
INFOR_USERNAME=
INFOR_PASSWORD=
# Enable automatic sync (background task)
INFOR_SYNC_ENABLED=false
# Sync interval in minutes (default: 30)
INFOR_SYNC_INTERVAL=30
